<!Doctype html>
<html>
    <head>
        <meta charset ="utf-8">
        <meta name="viewport" content =" width=deivice-width, intial scale=1">
        <title>Simple Calculator</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        <script type="text/javascript" src = "https://cdn.jsdelivr.net/npm/mathjs@10.0.2/lib/browser/math.min.js"></script>
        <script>
        function addLog(msg){
            var ul=document.getElementById("log");
            var li =document.createElement("li")
            var msg_text_node=document.createTextNode(msg)
            li.appendChild(msg_text_node)
            ul.appendChild(li)
        }

        function calculate(){
            experssion = document.getElementById("expression").value;
            console.log(experssion);
            if (experssion){
                try{
                    answer = eval(experssion);
                    addLog(experssion + " =  "+answer)
                document.getElementById("expression").value=answer;
                }catch(e){
                    addLog(expression +"is bad. Please fix it")
                }
                
            }
        }
        function math_calculate(){
            experssion = document.getElementById("expression").value;
            console.log(experssion);
            if (experssion){
                try{
                    answer = math.evaluate(experssion);
                    addLog(experssion + " =  "+answer)
                document.getElementById("expression").value=answer;
                }catch(e){
                    addLog(expression +"is bad. Please fix it")
                }
                
            }
        }
        function initialize_app(){
            calculate_button = document.getElementById("Calculate")
            calculate_button.addEventListener("click",math_calculate)
        }
        function input_number(v){
            expression=document.getElementById("expression").value;
            expression=expression + v;
            document.getElementById("expression").value=expression;
        }
    </script>

    </head>
<body>
    <div class="container">
        <div class="row">
            <div class="col">

            </div>
            <div class="col">
                <input type="input" class="form-control" id="expression" placeholder="3*5"/>

            
            </div>
            <div class="col">
                
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col">

        </div>
        <div class="col">
            <button class ="btn btn-primary" onclick="input_number('7')"> &nbsp;7&nbsp;</button>

            <button class ="btn btn-primary" onclick="input_number('8')"> &nbsp;8&nbsp;</button>

            <button class ="btn btn-primary" onclick="input_number('9')"> &nbsp;9&nbsp;</button>

            <button class ="btn btn-warning" onclick="input_number('/')">&nbsp; /&nbsp;</button>
        </div>
        <div class="col">
            
        </div>
    </div>
    <div class="row">
        <div class="col">

        </div>
        <div class="col">
            <button class ="btn btn-primary" onclick="input_number('4')"> &nbsp;4&nbsp;</button>

            <button class ="btn btn-primary" onclick="input_number('5')"> &nbsp;5&nbsp;</button>

            <button class ="btn btn-primary" onclick="input_number('6')"> &nbsp;6&nbsp;</button>

            <button class ="btn btn-warning" onclick="input_number('*')"> &nbsp;*&nbsp;</button>
        </div>
        <div class="col">
            
        </div>
    </div>
    <div class="row">
        <div class="col">

        </div>
        <div class="col">
            <button class ="btn btn-primary" onclick="input_number('1')"> &nbsp;&nbsp;1&nbsp;</button>

            <button class ="btn btn-primary" onclick="input_number('2')"> &nbsp;2&nbsp;</button>

            <button class ="btn btn-primary" onclick="input_number('3')"> &nbsp;3&nbsp;</button>

            <button class ="btn btn-warning" onclick="input_number('-')"> &nbsp;-&nbsp;</button>
        </div>
        <div class="col">
            
        </div>
    </div>
    <div class="row">
        <div class="col">

        </div>
        <div class="col">
            <button class ="btn btn-primary" onclick="input_number('0')"> &nbsp;0&nbsp;</button>

            <button class ="btn btn-primary" onclick="input_number('.')"> &nbsp;&nbsp;.&nbsp;&nbsp;</button>

            <button class ="btn btn-success" id="Calculate"> &nbsp;=&nbsp;</button>

            <button class ="btn btn-warning" onclick="input_number('+')"> &nbsp;+&nbsp;</button>
        </div>
        <div class="col">
            
        </div>
    </div>

    <div class="col">
        <ul id="log">

        </ul>
            
</body>    
<script type="text/javascript">
    initialize_app()
</script>
</html>